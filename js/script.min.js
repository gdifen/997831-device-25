var link = document.querySelector(".write-us"),
    popup = document.querySelector(".contacts-window"),
    closeMap = document.querySelector(".close-map"),
    closeWindow = document.querySelector(".close-window"),
    map = document.querySelector(".contacts-map"),
    popupMap = document.querySelector(".popup-map"),
    form = document.querySelector(".modal-form"),
    login = document.querySelector("[name=username]"),
    email = document.querySelector("[name=email]"),
    storage = localStorage.getItem("login"),
    isStorageSupport = !0;
storage = "";
try { storage = localStorage.getItem("login") } catch (e) { isStorageSupport = !1 }
link.addEventListener("click", function(e) { e.preventDefault(), popup.classList.add("wow-pop-up"), storage ? (login.value = storage, email.focus()) : login.focus() }), closeWindow.addEventListener("click", function(e) { e.preventDefault(), popup.classList.remove("wow-pop-up"), popup.classList.remove("modal-error") }), map.addEventListener("click", function(e) { e.preventDefault(), popupMap.classList.add("wow-pop-up") }), closeMap.addEventListener("click", function(e) { e.preventDefault(), popupMap.classList.remove("wow-pop-up") }), form.addEventListener("submit", function(e) { login.value && email.value ? isStorageSupport && localStorage.setItem("login", login.value) : (e.preventDefault(), popup.classList.remove("modal-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("modal-error")) });